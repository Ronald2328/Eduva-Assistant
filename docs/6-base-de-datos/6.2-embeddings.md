# 6.2 Embeddings

## ¿Qué son los Embeddings?

Representaciones numéricas de texto que capturan significado semántico.

```python
texto = "¿Cuánto cuesta la matrícula?"
embedding = await openai.aembed_query(texto)

# [0.234, -0.567, 0.123, ..., 0.891]  # 1536 números
```

---

## text-embedding-3-small

Modelo de OpenAI para generar embeddings:

```python
from langchain_openai import OpenAIEmbeddings

embedding = OpenAIEmbeddings(
    api_key=SecretStr(settings.OPENAI_API_KEY),
    model="text-embedding-3-small"
)

vector = await embedding.aembed_query("texto")
```

**Características**:
- Dimensiones: **1536**
- Costo: **$0.02 / 1M tokens**
- Latencia: **~50ms**

---

## Dimensionalidad (1536)

Cada embedding tiene 1536 números:

```python
[
    0.234,
    -0.567,
    0.123,
    ...  # 1533 más números
    0.891
]
```

**Significado**: Cada dimensión representa un aspecto semántico del texto.

---

## Generación Asíncrona

```python
# Una query
vector = await embedding.aembed_query("texto")

# Múltiples queries (batch)
vectors = await embedding.aembed_documents([
    "texto 1",
    "texto 2",
    "texto 3"
])
```

---

## Costos y Optimización

**Costo**:
```
1 query (~10 tokens) = $0.0000002
1000 queries = $0.0002
```

**Optimización**:
- Cache embeddings de queries frecuentes
- Batch processing para múltiples queries
- text-embedding-3-small (más barato que ada-002)

---

**Volver al índice**: [../README.md](../README.md)
